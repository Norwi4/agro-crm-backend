# üåæ AgroCRM - –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ–ª—å—Å–∫–æ—Ö–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω—ã–º –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–µ–º

## –û–ø–∏—Å–∞–Ω–∏–µ

AgroCRM - —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ–ª—å—Å–∫–æ—Ö–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω—ã–º –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–µ–º, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤—Å–µ—Ö –∫–ª—é—á–µ–≤—ã—Ö –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ –∞–≥—Ä–æ—Å–µ–∫—Ç–æ—Ä–µ. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—è–º–∏, —Ç–µ—Ö–Ω–∏–∫–æ–π, –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏, —Ç–æ–ø–ª–∏–≤–æ–º –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º.

## –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è

- **–°–µ–ª—å—Å–∫–æ—Ö–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è** - –æ—Ç –Ω–µ–±–æ–ª—å—à–∏—Ö —Ñ–µ—Ä–º–µ—Ä—Å–∫–∏—Ö —Ö–æ–∑—è–π—Å—Ç–≤ –¥–æ –∫—Ä—É–ø–Ω—ã—Ö –∞–≥—Ä–æ—Ö–æ–ª–¥–∏–Ω–≥–æ–≤
- **–ê–≥—Ä–æ–Ω–æ–º—ã –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥** - –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∫–æ–Ω—Ç—Ä–æ–ª—è —Å–µ–ª—å—Å–∫–æ—Ö–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **–ú–µ–Ω–µ–¥–∂–µ—Ä—ã –∏ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–∏** - –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ –ø—Ä–∏–Ω—è—Ç–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–∏—Ö —Ä–µ—à–µ–Ω–∏–π
- **–ú–µ—Ö–∞–Ω–∏–∑–∞—Ç–æ—Ä—ã –∏ –≤–æ–¥–∏—Ç–µ–ª–∏** - –¥–ª—è –≤–µ–¥–µ–Ω–∏—è –ø—É—Ç–µ–≤—ã—Ö –ª–∏—Å—Ç–æ–≤ –∏ —É—á–µ—Ç–∞ —Ä–∞–±–æ—Ç—ã —Ç–µ—Ö–Ω–∏–∫–∏
- **–°–∫–ª–∞–¥—Å–∫–∏–µ —Ä–∞–±–æ—Ç–Ω–∏–∫–∏** - –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–º–∏ –∑–∞–ø–∞—Å–∞–º–∏

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **–†–æ–ª–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–∞** (ADMIN, USER)
- **JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** —Å refresh —Ç–æ–∫–µ–Ω–∞–º–∏
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–µ—Å—Å–∏–π –Ω–∞ –¥—Ä—É–≥–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- **–ê—É–¥–∏—Ç –¥–µ–π—Å—Ç–≤–∏–π** - –ø–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è–º–∏
- –°–æ–∑–¥–∞–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–ª–æ—â–∞–¥–∏ –∏ —Ç–∏–ø–∞ –ø–æ—á–≤—ã
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ–≤–æ–æ–±–æ—Ä–æ—Ç–∞
- –£—á–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–ª–µ–π
- –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –∏ –∫–∞—Ä—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞–Ω–∏–µ

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Ö–Ω–∏–∫–æ–π –∏ –ø—É—Ç–µ–≤—ã–º–∏ –ª–∏—Å—Ç–∞–º–∏
- –í–µ–¥–µ–Ω–∏–µ –ø—É—Ç–µ–≤—ã—Ö –ª–∏—Å—Ç–æ–≤ (waybills)
- –£—á–µ—Ç —Ä–∞–±–æ—Ç—ã —Ç–µ—Ö–Ω–∏–∫–∏ –ø–æ –ø–æ–ª—è–º
- –ö–æ–Ω—Ç—Ä–æ–ª—å —Ä–∞—Å—Ö–æ–¥–∞ —Ç–æ–ø–ª–∏–≤–∞
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–ø–ª–∏–≤–æ–º
- –£—á–µ—Ç –∑–∞–ø—Ä–∞–≤–æ–∫ –∏ —Ä–∞—Å—Ö–æ–¥–∞ —Ç–æ–ø–ª–∏–≤–∞
- –ö–æ–Ω—Ç—Ä–æ–ª—å —Ç–æ–ø–ª–∏–≤–Ω—ã—Ö –ª–∏–º–∏—Ç–æ–≤
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —Ç–æ–ø–ª–∏–≤–∞
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—É—Ç–µ–≤—ã–º–∏ –ª–∏—Å—Ç–∞–º–∏

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫ –Ω–∞ —Ä–µ–º–æ–Ω—Ç
- –£—á–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç
- –ö–æ–Ω—Ç—Ä–æ–ª—å —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ç–µ—Ö–Ω–∏–∫–∏

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏
- –£—á–µ—Ç —Å–µ–º—è–Ω, —É–¥–æ–±—Ä–µ–Ω–∏–π, —Å—Ä–µ–¥—Å—Ç–≤ –∑–∞—â–∏—Ç—ã —Ä–∞—Å—Ç–µ–Ω–∏–π
- –ö–æ–Ω—Ç—Ä–æ–ª—å –æ—Å—Ç–∞—Ç–∫–æ–≤ –Ω–∞ —Å–∫–ª–∞–¥–µ
- –í—ã–¥–∞—á–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –ø–æ –∑–∞—è–≤–∫–∞–º
- –ü–∞—Ä—Ç–∏–æ–Ω–Ω—ã–π —É—á–µ—Ç

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –ø–æ–ª—è–º –∏ —É—Ä–æ–∂–∞–π–Ω–æ—Å—Ç–∏
- –û—Ç—á–µ—Ç—ã –ø–æ —Ä–∞–±–æ—Ç–µ —Ç–µ—Ö–Ω–∏–∫–∏
- –ê–Ω–∞–ª–∏–∑ —Ä–∞—Å—Ö–æ–¥–∞ —Ç–æ–ø–ª–∏–≤–∞ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- –ê—É–¥–∏—Ç –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **Backend**: Spring Boot 3.x, Java 17
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL 15+
- **–ú–∏–≥—Ä–∞—Ü–∏–∏**: Liquibase
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: Spring Security, JWT
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: OpenAPI 3 (Swagger)
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**: Docker

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
src/main/java/com/agrocrm/
‚îú‚îÄ‚îÄ AgroCrmApplication.java          # –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ analytics/                       # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ AnalyticsController.java     # –û—Å–Ω–æ–≤–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ AuditController.java         # –ê—É–¥–∏—Ç —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îî‚îÄ‚îÄ ReferenceDataController.java # –°–ø—Ä–∞–≤–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ auth/                           # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ AuthController.java         # –í—Ö–æ–¥/–≤—ã—Ö–æ–¥/refresh —Ç–æ–∫–µ–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ AuthRequest.java            # DTO –¥–ª—è –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ AuthResponse.java           # DTO –æ—Ç–≤–µ—Ç–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ RefreshTokenRequest.java    # DTO –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞
‚îú‚îÄ‚îÄ config/                         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ AuditService.java           # –°–µ—Ä–≤–∏—Å –∞—É–¥–∏—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ OpenApiConfig.java          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Swagger
‚îÇ   ‚îî‚îÄ‚îÄ SecurityConfig.java         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ domain/                         # –î–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ field/                      # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ fuel/                       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–ø–ª–∏–≤–æ–º
‚îÇ   ‚îú‚îÄ‚îÄ maintenance/                # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ material/                   # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ session/                    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ task/                       # –ó–∞–¥–∞—á–∏ –∏ –ø–æ—Ä—É—á–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ waybill/                    # –ü—É—Ç–µ–≤—ã–µ –ª–∏—Å—Ç—ã
‚îú‚îÄ‚îÄ errors/                         # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
‚îÇ   ‚îî‚îÄ‚îÄ GlobalExceptionHandler.java
‚îú‚îÄ‚îÄ integration/                    # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ outbox/                     # –ü–∞—Ç—Ç–µ—Ä–Ω Outbox
‚îú‚îÄ‚îÄ security/                       # –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
‚îÇ   ‚îú‚îÄ‚îÄ JwtAuthFilter.java          # JWT —Ñ–∏–ª—å—Ç—Ä
‚îÇ   ‚îú‚îÄ‚îÄ JwtService.java             # –°–µ—Ä–≤–∏—Å JWT
‚îÇ   ‚îî‚îÄ‚îÄ SecurityUtil.java           # –£—Ç–∏–ª–∏—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ user/                          # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
    ‚îú‚îÄ‚îÄ CustomUserDetailsService.java
    ‚îî‚îÄ‚îÄ User.java                   # –ú–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

## –°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### JWT —Ç–æ–∫–µ–Ω—ã
- **Access Token**: –∫–æ—Ä–æ—Ç–∫–æ–∂–∏–≤—É—â–∏–π (30 –º–∏–Ω—É—Ç) –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤
- **Refresh Token**: –¥–æ–ª–≥–æ–∂–∏–≤—É—â–∏–π (30 –¥–Ω–µ–π) –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è access —Ç–æ–∫–µ–Ω–æ–≤
- **–¢–∏–ø–∏–∑–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤**: –∫–∞–∂–¥—ã–π —Ç–æ–∫–µ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç claim "type" –¥–ª—è —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
- –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–µ—Å—Å–∏–π
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã—Ö–æ–¥–∞ —Å–æ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∫—Ä–æ–º–µ —Ç–µ–∫—É—â–µ–≥–æ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å—Ç–µ—á–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π —á–µ—Ä–µ–∑ 30 –¥–Ω–µ–π

### –ê—É–¥–∏—Ç
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –≤–∞–∂–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ IP –∞–¥—Ä–µ—Å–æ–≤ –∏ User-Agent
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∞—É–¥–∏—Ç–∞ —á–µ—Ä–µ–∑ API (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)

## API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `POST /api/auth/login` - –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- `POST /api/auth/refresh` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
- `POST /api/auth/logout` - –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
- `POST /api/auth/logout-all` - –í—ã—Ö–æ–¥ —Å–æ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
- `GET /api/sessions` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π
- `DELETE /api/sessions/{sessionId}` - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–µ—Å—Å–∏–∏

### –ü–æ–ª—è
- `GET /api/fields` - –°–ø–∏—Å–æ–∫ –ø–æ–ª–µ–π
- `POST /api/fields` - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—è
- `PUT /api/fields/{id}` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è
- `DELETE /api/fields/{id}` - –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—è

### –ü—É—Ç–µ–≤—ã–µ –ª–∏—Å—Ç—ã
- `GET /api/waybills` - –°–ø–∏—Å–æ–∫ –ø—É—Ç–µ–≤—ã—Ö –ª–∏—Å—Ç–æ–≤
- `POST /api/waybills` - –°–æ–∑–¥–∞–Ω–∏–µ –ø—É—Ç–µ–≤–æ–≥–æ –ª–∏—Å—Ç–∞
- `PUT /api/waybills/{id}` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—É—Ç–µ–≤–æ–≥–æ –ª–∏—Å—Ç–∞

### –¢–æ–ø–ª–∏–≤–æ
- `GET /api/fuel/transactions` - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å —Ç–æ–ø–ª–∏–≤–æ–º
- `POST /api/fuel/transactions` - –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `GET /api/fuel/policies` - –¢–æ–ø–ª–∏–≤–Ω—ã–µ –ª–∏–º–∏—Ç—ã

### –ú–∞—Ç–µ—Ä–∏–∞–ª—ã
- `GET /api/materials` - –°–ø–∏—Å–æ–∫ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- `POST /api/materials` - –°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
- `GET /api/materials/{id}/batches` - –ü–∞—Ä—Ç–∏–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
- `POST /api/materials/{id}/issues` - –í—ã–¥–∞—á–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–∞

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
- `GET /api/maintenance/orders` - –ó–∞–∫–∞–∑—ã –Ω–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
- `POST /api/maintenance/orders` - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞
- `GET /api/maintenance/plans` - –ü–ª–∞–Ω—ã –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è

### –ê—É–¥–∏—Ç
- `GET /api/audit` - –ñ—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç–∞ (—Ç–æ–ª—å–∫–æ ADMIN)
- `GET /api/audit/users/{userId}` - –ê—É–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/audit/actions/{action}` - –ê—É–¥–∏—Ç –ø–æ —Ç–∏–ø—É –¥–µ–π—Å—Ç–≤–∏—è

## üõ†–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Java 17 –∏–ª–∏ –≤—ã—à–µ
- PostgreSQL 15 –∏–ª–∏ –≤—ã—à–µ
- Maven 3.6 –∏–ª–∏ –≤—ã—à–µ
- Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
```bash
git clone <repository-url>
cd agro-crm-backend
```

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**
```sql
CREATE DATABASE agrocrm;
CREATE USER agrocrm_user WITH PASSWORD 'your_password';
GRANT ALL PRIVILEGES ON DATABASE agrocrm TO agrocrm_user;
```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `application-local.yml`:
```yaml
spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/agrocrm
    username: agrocrm_user
    password: your_password
  jpa:
    hibernate:
      ddl-auto: validate

app:
  jwt:
    secret: your-super-secret-jwt-key-here
    accessTokenExpirationMinutes: 30
    refreshTokenExpirationDays: 30
```

4. **–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
```bash
mvn spring-boot:run -Dspring.profiles.active=local
```

### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

1. **–°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞**
```bash
docker build -t agrocrm-backend .
```

2. **–ó–∞–ø—É—Å–∫ —Å Docker Compose**
```bash
docker-compose up -d
```

## –î–µ–º–æ –¥–∞–Ω–Ω—ã–µ

–°–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: `admin` (–ø–∞—Ä–æ–ª—å: `admin`), `user` (–ø–∞—Ä–æ–ª—å: `user`)
- –ü—Ä–∏–º–µ—Ä—ã –ø–æ–ª–µ–π, —Ç–µ—Ö–Ω–∏–∫–∏, –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—É—Ç–µ–≤—ã–µ –ª–∏—Å—Ç—ã –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (application.yml)
```yaml
server:
  port: 8080

spring:
  application:
    name: agro-crm-backend
  datasource:
    url: jdbc:postgresql://localhost:5432/agrocrm
    username: ${DB_USERNAME:agrocrm_user}
    password: ${DB_PASSWORD:password}
  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
  liquibase:
    change-log: classpath:db/changelog/db.changelog-master.xml

app:
  jwt:
    secret: ${JWT_SECRET:change-me-super-secret-please-change-this-is-a-very-long-secret-key-for-hs512-algorithm-that-must-be-at-least-512-bits-long}
    accessTokenExpirationMinutes: 30
    refreshTokenExpirationDays: 30
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `DB_USERNAME` - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `DB_PASSWORD` - –ø–∞—Ä–æ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `JWT_SECRET` - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ)

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:
- **Swagger UI**: http://localhost:8080/swagger-ui.html
- **OpenAPI JSON**: http://localhost:8080/v3/api-docs

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É `audit_log`
- –°–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `user_session`
- –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ Spring Boot

### –ú–µ—Ç—Ä–∏–∫–∏
- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ Spring Boot Actuator
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ API

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
1. –ò–∑–º–µ–Ω–∏—Ç–µ JWT_SECRET –Ω–∞ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ HTTPS/TLS
3. –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∞–π—Ä–≤–æ–ª
5. –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–Ω–µ—à–Ω—é—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, AWS RDS)
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ –Ω–∞–≥—Ä—É–∑–∫–∏ –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å–µ—Å—Å–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
–ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ Liquibase:
- `001-initial-schema.sql` - –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ö–µ–º–∞
- `002-domain-extensions.sql` - –†–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–æ–º–µ–Ω–∞
- `003-demo-data.sql` - –î–µ–º–æ –¥–∞–Ω–Ω—ã–µ
- `004-sessions-management.sql` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
- `005-audit-log-user-id-migration.sql` - –ú–∏–≥—Ä–∞—Ü–∏—è –∞—É–¥–∏—Ç–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
1. –°–æ–∑–¥–∞–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –≤ `src/main/resources/db/changelog/changes/`
2. –î–æ–±–∞–≤—å—Ç–µ –º–æ–¥–µ–ª—å –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø–∞–∫–µ—Ç `domain/`
3. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ Swagger
4. –î–æ–±–∞–≤—å—Ç–µ –∞—É–¥–∏—Ç –¥–ª—è –≤–∞–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
5. –û–±–Ω–æ–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ö–æ–Ω—Ç–∞–∫—Ç—ã
- **Email**: support@agrocrm.com
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: https://docs.agrocrm.com
- **Issues**: GitHub Issues

### –°–æ–æ–±—â–µ—Å—Ç–≤–æ
- –§–æ—Ä—É–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- Telegram –∫–∞–Ω–∞–ª
- –ï–∂–µ–º–µ—Å—è—á–Ω—ã–µ –≤–µ–±–∏–Ω–∞—Ä—ã

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.

---

**AgroCRM** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Ü–∏—Ñ—Ä–æ–≤–∏–∑–∞—Ü–∏–∏ —Å–µ–ª—å—Å–∫–æ–≥–æ —Ö–æ–∑—è–π—Å—Ç–≤–∞
